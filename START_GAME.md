# 🎮 게임 실행 가이드 (최신 v3.0)

## ⚡ 빠른 시작 (3단계)

### 1️⃣ 포트 충돌 해결 (한 번만 실행)

```powershell
taskkill /IM node.exe /F
```

### 2️⃣ 게임 실행

```powershell
npm run dev:full
```

### 3️⃣ 브라우저 접속

```
http://localhost:5173
```

---

## 🎯 첫 화면 - 3가지 선택

### ✅ Option 1: Guest로 바로 시작 (추천!)

```
로그인 화면
↓
"🎮 Guest로 시작하기" 클릭
↓
바로 게임 시작! ✅
```

**장점**:
- 회원가입 없이 즉시 플레이
- 200개 랜덤 거래 데이터
- 모든 싱글 플레이 기능 사용 가능

### ✅ Option 2: 기존 회원 로그인

```
이름: 염승훈 (또는 이태영, 좌상목, 서재만, 강승완, 배형준, 임지훈)
비밀번호: password123
↓
로그인
↓
각자의 거래 패턴으로 플레이
```

**장점**:
- 개인별 맞춤 거래 패턴
- PvP 멀티플레이 가능
- 데이터 영구 저장

### ✅ Option 3: 신규 회원가입

```
"신규 고객입니다" 클릭
↓
이름 입력 (예: 홍길동)
↓
없는 고객 → 계좌개설 팝업
↓
계좌 + 카드 + 적금 동시 개설
```

**장점**:
- 새로운 캐릭터 생성
- PvP 가능
- 맞춤형 데이터

---

## 🎮 모드별 플레이 가이드

### 싱글 플레이 (AI 보스 대전)

1. 메인 화면 → **"싱글 플레이 시작"**
2. 손패에서 카드 선택 (에너지 충분한 것만)
3. 카드 효과 확인:
   - 💚 HEAL: 체력 회복
   - 🛡️ SHIELD: 방어막
   - 😵 STUN: 보스 무력화
   - 🔥 DOT: 지속 피해
4. 턴 종료 → 보스 반격
5. 승리 또는 패배

### 패배 시 → 오픈뱅킹 역전승!

```
보스에게 패배
↓
"🏦 오픈뱅킹 연동하고 역전하기" 클릭
↓
타 은행 상품 선택:
  - 💼 IRP 퇴직연금
  - 💰 고금리 적금
  - 💳 프리미엄 카드
  - 🔄 자동이체 변경
↓
연동 완료
↓
💎 히든 카드 "금융의 신" 획득!
  (15 피해 + 체력 10 회복 + 에너지 최대)
↓
재도전 → 역전승! 🎉
```

### 멀티플레이 (PvP 대전)

**⚠️ 주의**: Guest는 PvP 불가, 회원만 가능

#### 플레이어 1

```
메인 화면 → "멀티플레이 (PvP)"
↓
방 생성 (닉네임 + 방 이름 입력)
↓
대기실에서 "준비 완료"
```

#### 플레이어 2 (시크릿 모드)

```
Ctrl + Shift + N (시크릿 모드)
↓
http://localhost:5173
↓
로그인 (다른 계정)
↓
방 참가
↓
"준비 완료"
↓
게임 시작! ⚔️
```

---

## 🔧 포트 충돌 완전 해결

### 증상

```
Error: listen EADDRINUSE: address already in use :::3002
```

### 해결 (PowerShell)

```powershell
# 모든 Node.js 프로세스 종료
taskkill /IM node.exe /F

# 잠시 대기
Start-Sleep -Seconds 2

# 실행
npm run dev:full
```

### 특정 포트만 종료 (고급)

```powershell
# 1. 포트 3002 사용 중인 PID 찾기
netstat -ano | findstr :3002

# 2. PID 종료 (예: PID가 12345인 경우)
taskkill /PID 12345 /F

# 3. 실행
npm run dev:full
```

---

## ✅ 정상 작동 확인

### 1. 터미널 출력

```
========================================
🎮 Financial Card Storm 멀티플레이 서버
========================================
포트: 3002
Socket.IO: 활성화
========================================

VITE v5.4.21  ready in XXX ms

➜  Local:   http://localhost:5173/
```

### 2. 브라우저 확인

- `http://localhost:5173` → 로그인 화면
- Guest로 시작 → 메인 화면
- 싱글 플레이 → 전투 화면 정상 표시

### 3. 백엔드 확인

- `http://localhost:3002/api/health` → `{"status":"ok"}`

---

## 🎯 완전한 체크리스트

- [ ] `taskkill /IM node.exe /F` 실행
- [ ] `npm run dev:full` 실행
- [ ] 브라우저: `http://localhost:5173`
- [ ] Guest로 시작 또는 로그인
- [ ] 메인 화면 정상 표시
- [ ] 싱글 플레이 → 전투 화면 작동
- [ ] 카드 사용 → 보스 HP 감소
- [ ] 패배 → 오픈뱅킹 연동 가능
- [ ] Guest에서 회원가입 가능

---

## 🐛 문제 해결

### "파란 화면만 나와요"

**원인**: 로그인 화면만 표시됨 (이제 해결됨!)

**해결**: 
- Guest로 시작하기 버튼 추가됨
- 바로 게임 플레이 가능

### "멀티플레이 방 생성 안 돼요"

**원인**: 백엔드 서버 미실행

**해결**:
```powershell
npm run dev:full
```

### "Guest로 PvP 못 해요"

**원인**: 의도된 동작입니다.

**해결**: 회원가입 후 PvP 이용

---

## 📁 주요 화면 흐름

```
로그인 화면
├── Guest로 시작 → 메인 화면
├── 기존 회원 로그인 → 메인 화면
└── 신규 고객 → 계좌개설 → 메인 화면

메인 화면
├── 싱글 플레이 → 전투 화면
│   ├── 승리 → 결과 모달
│   └── 패배 → 오픈뱅킹 팝업 → 히든 카드
├── 멀티플레이 (PvP)
│   ├── Guest → 로그인 유도 모달
│   └── 회원 → 로비 → 대전
└── 거래 내역 → 미리보기 모달
```

---

## 🎊 새로운 기능 요약

1. ✅ **Guest 모드**: 로그인 없이 즉시 체험
2. ✅ **7명 실제 인물**: 각자 다른 거래 패턴
3. ✅ **신규 계좌개설**: 3종 상품 동시 가입
4. ✅ **PvP 전투**: 실시간 대전 화면
5. ✅ **오픈뱅킹 + 히든 카드**: 역전승 시스템

---

**이제 완벽하게 작동합니다!** 🎉

```powershell
taskkill /IM node.exe /F
npm run dev:full
```

실행 후 Guest로 바로 시작하세요! 🎮⚔️💳





